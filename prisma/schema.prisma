// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Movie {
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  tmdbId Int    @id @unique
  imdbId String @unique

  title             String   @db.VarChar(256)
  originalTitle     String?  @db.VarChar(256)
  language          String?
  releaseYear       Int?
  releaseDate       String?
  genres            String[]
  overview          String   @db.VarChar(4096)
  runtime           Int
  adult             Boolean  @default(false)
  budget            Int
  revenue           Int
  homepage          String?  @db.VarChar(511)
  status            String
  ageRating         String?
  keywords          String[] @default([])
  countriesOfOrigin String[] @default([])
  languages         String[] @default([])

  // media
  posterUrl        String? @db.VarChar(512)
  backdropUrl      String? @db.VarChar(512)
  trailerUrl       String? @db.VarChar(512)
  trailerYouTubeId String?

  // imdb
  imdbRating Float?
  imdbVotes  Int?

  // tmdb
  tmdbPopularity Float?
  tmdbRating     Float?
  tmdbVotes      Int?

  // metacritic
  metacriticRating Float?
  metacriticVotes  Int?

  @@index([imdbId])
}
